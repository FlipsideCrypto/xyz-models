version: 2
models:
  - name: silver__price_all_providers_hourly
    description: Hourly historical prices across all providers that we have data for.
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - HOUR
            - PROVIDER

    columns:
      - name: hour
        description: "{{ doc('hour') }}"
        tests:
          - not_null

      - name: OPEN
        description: "{{ doc('open') }}"
        tests:
          - not_null

      - name: HIGH
        description: "{{ doc('high') }}"
        tests:
          - not_null
      
      - name: LOW
        description: "{{ doc('low') }}"
        tests:
          - not_null
        
      - name: CLOSE
        description: "{{ doc('close') }}"
        tests:
          - not_null

      - name: _inserted_timestamp

      - name: provider
        description: "{{ doc('provider') }}"
        tests:
          - not_null

      - name: PRICE_ALL_PROVIDERS_HOURLY_ID
        description: "{{doc('id')}}"

      - name: INSERTED_TIMESTAMP
        description: "{{doc('inserted_timestamp')}}"

      - name: MODIFIED_TIMESTAMP
        description: "{{doc('modified_timestamp')}}"

      - name: _INVOCATION_ID
        description: "{{doc('invocation_id')}}"
